### Notes

- 警惕积分中的「奇点」。

	eg. 设 $\varphi(x)=\frac{x+1}{x-1}$，求 $\int_{0}^{2} \frac{\mathrm{d}\left(\varphi(x)\right)}{4+\varphi^2(x)}$。

	> 注意到 $\varphi(x)$ 在 $x=1$ 处间断，我们得分区间 $(0,1)$，$(1,2)$ 单独计算。
	>
	> $\varphi(0)=-1$，$\varphi(1-0)=-\infty$，$\varphi(1+0)=+\infty$，$\varphi(2)=3$。
	>
	> 可见如果不考虑奇点，答案会出错。

- 弧长公式。

	直角坐标形式：$\int \sqrt{1+(y')^2}\mathrm{d}x$；

	参数方程形式：$\begin{cases}x=\alpha(t) \\ y=\beta(t)\end{cases}$，$\int \sqrt{(\alpha'(t))^2+(\beta'(t))^2}\mathrm{d}t$；

	极坐标形式：$\int \sqrt{(r(\theta))^2+(r'(\theta))^2}\mathrm{d}\theta$。

- Stolz 定理。

	设 $\{x_n\},\{y_n\}$ 为数列，其中 $\{y_n\}$ 单调且 $\lim\limits_{n\to \infty} y_n=\infty$，并且 $\lim\limits_{n\to \infty} \frac{x_n-x_{n-1}}{y_n-y_{n-1}}=A$，则 $\lim\limits_{n\to \infty} \frac{x_n}{y_n}=A$。

- 曲率半径。

	曲率为
	$$
		K=\frac{|f''(x)|}{\left(1+(f'(x))^2\right)^{3/2}}\\
		R=\frac{1}{K}
	$$
	曲率圆圆心坐标 $(x_0,y_0)$ 为
	$$
		x_0=x-\frac{f'(x)[1+(f'(x))^2]}{f''(x)}\\
		y_0=f(x)+\frac{1+(f'(x))^2}{f''(x)}
	$$

- Wallis 公式

	- (1) $\int_0^{\frac{\pi}{2}} \sin^n x\mathrm{d}x=\begin{cases}\frac{(2n-1)!!}{(2n)!!} & n\text{ is odd} \\ \frac{(2n-1)!!}{(2n)!!} \cdot \frac{\pi}{2} & n\text{ is even}\end{cases}$；

	- (2) $\lim\limits_{n\to \infty} \frac{1}{\sqrt{2n+1}} \frac{(2n)!!}{(2n-1)!!}=\sqrt{\frac{\pi}{2}}$。留意「双阶乘」，联想到 Wallis 公式即可。

- 反常积分（aka. 广义积分）：① 无限区间；② 无界函数（aka. 瑕积分，注意**瑕点**）。

	- 伽马函数（$\Gamma$）：$\Gamma(s)=\int_{0}^{+\infty} x^{s-1}e^{-x}\mathrm{d}x$，有递推式 $\Gamma(s+1)=s\Gamma(s)$。当 $s>0$ 时，$\Gamma(s)$ 收敛。

		$\Gamma(\frac{1}{2})=2\int_0^{+\infty}e^{-u^2}\mathrm{d}u=\sqrt{\pi}$。记 $\int_0^{+\infty}e^{-u^2}\mathrm{d}u=\frac{\sqrt{\pi}}{2}$ 为泊松积分。

	- p - 积分：$\int_1^{+\infty} \frac{\mathrm{d}x}{x^p}=\begin{cases}+\infty & p\le 1 \\ \frac{1}{p-1} & p>1\end{cases}$。

### 妙计

「P1」证明：$\int_0^1 \frac{\cos x}{\sqrt{1-x^2}}\mathrm{d}x >\int_0^1 \frac{\sin x}{\sqrt{1-x^2}}\mathrm{d}x$。

> 朴素方法是三角换元，LHS 为 $\cos (\sin u)$，RHS 为 $\sin (\cos u)$，显然 LHS > RHS。
>
> 存在一步到位的方法。注意到对于 $x\in [0,\frac{\pi}{2}]$，有 $\sin x\le x$，于是：
> $$
> \begin{aligned}
> \text{LHS}&>\int_0^1 \frac{\cos x}{\sqrt{1-(\sin x)^2}}\mathrm{d}x=1\\
> \text{RHS}&<\int_0^1 \frac{x}{\sqrt{1-x^2}}\mathrm{d}x=1
> \end{aligned}
> $$

「P2」计算 $I=\int_0^{+\infty} \frac{\mathrm{d}x}{(1+x^2)(1+x^\alpha)}$。

> ★ 遇到 $(0,+\infty)$，可尝试倒变换，实现区间再现。
>
> 考虑区间再现，换元 $u=\frac{1}{x}$，则 $I=\int_0^{+\infty}\frac{u^{\alpha}\mathrm{d}u}{(1+u^2)(1+u^\alpha)}$。因此 $2I=\int_0^{\infty}\frac{\mathrm{d}x}{1+x^2}=\frac{\pi}{2}$。

「P3」计算 $I=\lim\limits_{n\to +\infty}  \frac{\sqrt[n]{n!}}{n}$。

> ★ 遇到开根 / 乘积，通常可以考虑 $\ln$。
>
> 由 $I=\lim\limits_{n\to +\infty} \sqrt[n]{\frac{1}{n}\frac{2}{n}\cdots\frac{n}{n}}$，$\ln I=\lim\limits_{n\to +\infty}\frac{1}{n}\sum\limits_{i=1}^{n}\ln \frac{i}{n}=\int_0^1 \ln x\mathrm{d}x=-1$，因此 $I=\frac{1}{e}$。
>
> 当然也可以直接用 Stirling 公式秒杀。

「P4 · 2021 期末考$\textcolor{red}{\text{加强版}}$」设 $f(x)$ 在 $[0,1]$ 上连续可导，当 $x\in [0,1]$ 时，$\int_x^1 f(t)\mathrm{d}t\ge \frac{1-x^3}{2}$，证明：
$$
\int_0^1  [f(x)]^2\mathrm{d}x\ge \frac{9}{20}
$$

> ★ 尝试构造 $f$ 的原函数，即 $f$ 的积分。
>
> 两边求导，猜出 $f(x)\equiv \frac{3x^2}{2}$ 时取等，根据此构造 $F(x)=\int_x^1 (f(t)-\frac{3t^2}{2})\mathrm{d} t$，则 $F'(x)=-f(x)+\frac{3x^2}{2}$。
> $$
> \begin{aligned}
> \int_0^1 [f(x)]^2\mathrm{d} x&= \int_0^1 \left(\frac{3x^2}{2}-F'(x)\right)^2\mathrm{d}x\\
> &= \int_0^1 \frac{9x^4}{4}\mathrm{d}x-\int_0^13x^2F'(x)\mathrm{d}x+\int_0^1 \left(F'(x)\right)^2\mathrm{d}x \\
> &\ge \frac{9}{20}-\int_0^1 3x^2\mathrm{d} \left(F(x)\right)\\
> &=\frac{9}{20}-\left(3x^2F(x)\right)|_0^1+\int_0^1 6xF(x)\mathrm{d}x
> \end{aligned}
> $$
> 由于 $F(1)=0$，且对 $\forall x\in [0,1]$，有 $F(x)\ge 0$，因此原式 $\ge \frac{9}{20}$。

「P5 · 2022 期末考」已知 $f(x)$ 在 $(0,1)$ 内连续，$g(x)$ 在 $\color{red}{[0,1]}$ 上单调递增且可导，证明：$\exists \xi\in (0,1)$，使得
$$
\int_0^1 f(x)g(x)\mathrm{d} x=g(0)\int_0^{\xi} f(x)\mathrm{d} x+g(1)\int_{\xi}^{1} f(x)\mathrm{d}x
$$

> ★ 同样，我们可以尝试构造 $f$ 的原函数，毕竟有 $g'(x)$，可以做分部积分。
>
> 设 $F(x)=\int_0^x f(t)\mathrm{d}t$，则
> $$
> \begin{aligned}
> \int_0^1 f(x)g(x)\mathrm{d}x&=\int_0^1 g(x)\mathrm{d} \left(F(x)\right)\\
> &=g(x)F(x)|_0^1 -\int_0^1 F(x)g'(x)\mathrm{d}x
> \end{aligned}
> $$
> 由于 $F(x)$ 在 $[0,1]$ 上连续，由积分第一中值定理，$\exists \xi\in (0,1)$，使得 $\int_0^1 F(x)g'(x)\mathrm{d}x=F(\xi)\int_0^1 g'(x)\mathrm{d}x$。因此：
> $$
> \begin{aligned}
> \int_0^1 f(x)g(x)\mathrm{d}x&=g(1)\int_0^1 f(t)\mathrm{d}t-\int_0^{\xi} f(t)\mathrm{d}t\int_0^1 g'(t)\mathrm{d}t\\
> &=g(1)\int_0^1 f(t)\mathrm{d}t -\left(g(1)-g(0)\right)\int_0^{\xi} f(t)\mathrm{d}t\\
> &=g(0)\int_0^{\xi} f(x)\mathrm{d} x+g(1)\int_{\xi}^{1} f(x)\mathrm{d}x
> \end{aligned}
> $$